####Single Assemblage Mixture Modeling####
#This script is part of the ZooarchMixMod GitHub project (https://github.com/wolfhagenj/ZooarchMixMod)
#It provides instructions to take standardized faunal measurements from a single assemblage and model
#them as a mixture of immature, adult-sized female, and adult-sized male specimens using a Bayesian
#multilevel mixture model.

#This code is meant to be copied and adapted for your own personal use. While it is designed for data
#set up like the OpenContext data used in the original manuscript, the same principles can be adapted
#to data set up in a different way. The principles can even be used to standardize the data yourself
#outside of R. See the ReadMe for the GitHub repository to see what the model expects in terms of
#data setup.

####Load the packages####
#These packages are necessary for the script. Use the following line (without the comment #) to install
#the packages if you have not already installed them:
#install.packages("data.table", "cmdstanr", "rstan")
#For "cmdstanr", see the following installation instructions: https://mc-stan.org/cmdstanr/articles/cmdstanr.html
#For "rstan", see the following installation instructions: https://github.com/stan-dev/rstan/wiki/RStan-Getting-Started
#In general, you will need to install rtools to have a C++ toolchain; the above links help provide steps to do so.
library("cmdstanr")
library("data.table")
library("rstan")

####Import the data (if necessary)####
#Import mixture model data. This script uses the results of the "data_cleaning.R" 